{"version":3,"sources":["components/product/product.jsx","components/catalog/catalog.jsx","constants/constants.js","components/app/app.jsx","index.jsx"],"names":["Product","props","state","isHover","isEnter","handleMouseLeave","bind","handleMouseEnter","this","data","isAvailable","isSelected","handleCardClick","className","description","type","onClick","id","over","productClass","setState","getProductClass","onMouseLeave","onMouseEnter","tabIndex","role","taste","bonuses","map","bonus","key","weight","getFooterDescription","React","Component","Catalog","products","product","Products","App","idx","findIndex","newProduct","newStateProducts","slice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c88b7d37.chunk.js","sourcesContent":["import React from 'react';\nimport './style/style.scss';\n\nexport default class Product extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHover: false,\n      isEnter: false,\n    };\n\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleMouseEnter = this.handleMouseEnter.bind(this);\n  }\n\n  getFooterDescription() {\n    const { isAvailable, isSelected } = this.props.data;\n    const { handleCardClick } = this.props;\n    if (isSelected) {\n      return <p className=\"product__description\">{this.props.data.description}</p>;\n    }\n\n    if (!isAvailable) {\n      return <p className=\"product__description product__description--over\">{this.props.data.over}</p>;\n    }\n\n    return (\n      <p className=\"product__description\">\n        Чего сидишь? Порадуй котэ,\n        <button type=\"button\" className=\"product__button\" onClick={() => handleCardClick(this.props.data.id)}>купи</button>\n      </p>\n    );\n  }\n\n  getProductClass() {\n    const { isAvailable, isSelected } = this.props.data;\n    const { isHover, isEnter } = this.state;\n    let productClass = 'product';\n    if (!isAvailable) {\n      productClass += ' product--disabled';\n    }\n\n    if (isSelected) {\n      productClass += ' product--selected';\n    }\n\n    if (isEnter && isHover) {\n      productClass += ' product--hover';\n    }\n\n    return productClass;\n  }\n\n  handleMouseLeave() {\n    this.setState({ isHover: true, isEnter: false });\n  }\n\n  handleMouseEnter() {\n    this.setState(({ isEnter: true }));\n  }\n\n  render() {\n    const { isSelected } = this.props.data;\n    const { isHover, isEnter } = this.state;\n    return (\n      <li className={this.getProductClass()} onMouseLeave={this.handleMouseLeave} onMouseEnter={this.handleMouseEnter}>\n        <div className=\"product__body\" onClick={() => this.props.handleCardClick(this.props.data.id)} tabIndex={0} role=\"article\">\n          <div className=\"product__header\">\n            <span className=\"product__title\">{isHover && isEnter && isSelected ? 'Котэ не одобряет?' : 'Сказочное заморское яство'}</span>\n            <h2 className=\"product__name\">Нямушка</h2>\n            <h3 className=\"product__flavor\">{this.props.data.taste}</h3>\n          </div>\n          <ul className=\"product__bonus\">\n            {this.props.data.bonuses.map((bonus) => {\n              return <li key={bonus}>{bonus}</li>;\n            })}\n          </ul>\n          <div className=\"product__weight\">\n            <span className=\"product__weight-number\">{this.props.data.weight}</span>\n            <span className=\"product__weight-unit\">кг</span>\n          </div>\n        </div>\n        {this.getFooterDescription()}\n      </li>\n    );\n  }\n}\n","import React from 'react';\nimport './style/style.scss';\nimport Product from '../product/product';\n\nconst Catalog = (props) => {\n  const { products } = props;\n  return (\n    <ul className=\"catalog\">\n      {products.map((product) => {\n        return <Product key={product.id} data={product} handleCardClick={props.handleCardClick} />;\n      })}\n    </ul>\n  );\n};\n\nexport default Catalog;\n","const Products = [\n  {\n    id: 1,\n    taste: 'с фуа-гра',\n    bonuses: [\n      '10 порций',\n      'мышь в подарок',\n    ],\n    description: 'Печень утки разварная с артишоками.',\n    weight: '0,5',\n    over: 'Печалька, с фуа-гра закончился.',\n    isAvailable: true,\n    isSelected: false,\n  },\n  {\n    id: 2,\n    taste: 'с рыбой',\n    bonuses: [\n      '40 порций',\n      '2 мыши в подарок',\n    ],\n    description: 'Головы щучьи с чесноком да свежайшая сёмгушка.',\n    weight: '2',\n    over: 'Печалька, с рыбой закончился.',\n    isAvailable: true,\n    isSelected: true,\n  },\n  {\n    id: 3,\n    taste: 'с курой',\n    bonuses: [\n      '100 порций',\n      '5 мышей в подарок',\n      'заказчик доволен',\n    ],\n    description: 'Филе из цыплят с трюфелями в бульоне.',\n    weight: '5',\n    over: 'Печалька, с курой закончился.',\n    isAvailable: false,\n    isSelected: false,\n  },\n];\n\nexport default Products;\n","import React from 'react';\nimport Catalog from '../catalog/catalog';\nimport './style/style.scss';\nimport Products from '../../constants/constants';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: Products,\n    };\n    this.handleCardClick = this.handleCardClick.bind(this);\n  }\n\n  handleCardClick(id) {\n    // Находим элемент в стейте по ID\n    const idx = this.state.products.findIndex((product) => product.id === id);\n    // Создаем новый элемент, с изменёным ключом\n    const newProduct = { ...this.state.products[idx], isSelected: !this.state.products[idx].isSelected };\n    // Создаем новый массив\n    const newStateProducts = [...this.state.products.slice(0, idx), newProduct, ...this.state.products.slice(idx + 1)];\n\n    this.setState(() => {\n      return {\n        products: newStateProducts,\n      };\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <h4 className=\"app__header\">Ты сегодня покормил кота?</h4>\n        <Catalog products={this.state.products} handleCardClick={this.handleCardClick} />\n      </div>\n    );\n  }\n}\n","// Полифилл для IE11 (не работает findIndex)\nimport 'react-app-polyfill/ie11';\nimport 'core-js/features/array/find-index';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app';\nimport './style/style.scss';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}